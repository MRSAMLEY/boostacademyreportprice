<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Boost Academy Dashboard</title>

<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Quicksand:wght@400;500;600&display=swap" rel="stylesheet" />

<!-- Tailwind CSS -->
<script src="https://cdn.tailwindcss.com"></script>

<style>
  /* ---------- Base Styles ---------- */
  body {
    font-family: 'Quicksand', 'Poppins', sans-serif;
    background: linear-gradient(120deg, #FFDEE9, #B5FFFC);
    min-height: 100vh;
    margin: 0;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    padding: 1rem;
    box-sizing: border-box;
  }

  /* ---------- Container ---------- */
  .container {
    background: rgba(255, 255, 255, 0.35);
    backdrop-filter: blur(20px);
    border-radius: 2rem;
    padding: 2rem;
    max-width: 720px;
    width: 100%;
    box-shadow: 0 10px 30px rgba(255, 105, 180, 0.3);
  }

  h2 {
    color: #ff69b4;
    text-align: center;
    font-weight: 700;
    font-size: 2rem;
    margin-bottom: 1.5rem;
  }

  /* ---------- Form Styles ---------- */
  form {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  input[type="text"],
  input[type="tel"],
  input[type="number"],
  select {
    border-radius: 1.2rem;
    padding: 0.8rem 1.2rem;
    border: none;
    outline: none;
    font-size: 1.1rem;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    transition: transform 0.25s ease, box-shadow 0.25s ease;
    width: 100%;
    box-sizing: border-box;
  }
  input[type="text"]:focus,
  input[type="tel"]:focus,
  input[type="number"]:focus,
  select:focus {
    transform: scale(1.03);
    box-shadow: 0 6px 20px rgba(255, 105, 180, 0.5);
  }

  /* Placeholder color */
  ::placeholder {
    color: #b0b0b0;
  }

  /* ---------- Payment Channel ---------- */
  .payment-channel {
    color: #ff69b4;
    font-weight: 600;
    margin-bottom: 0.5rem;
  }

  #bank-buttons {
    display: flex;
    gap: 0.8rem;
    flex-wrap: wrap;
  }
  #bank-buttons button {
    flex: 1 1 auto;
    background: linear-gradient(135deg, #ffb6c1, #ff69b4);
    color: white;
    font-weight: 600;
    border: none;
    padding: 0.8rem 1.2rem;
    border-radius: 2rem;
    cursor: pointer;
    box-shadow: 0 6px 20px rgba(255, 105, 180, 0.5);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    white-space: nowrap;
    text-align: center;
  }
  #bank-buttons button.selected-bank,
  #bank-buttons button:hover {
    transform: scale(1.05);
    box-shadow: 0 10px 30px rgba(255, 105, 180, 0.8);
  }

  /* ---------- File Upload ---------- */
  #file-drop-area {
    border: 2px dashed #ff69b4;
    border-radius: 1.5rem;
    padding: 2rem;
    text-align: center;
    color: #ff1493;
    cursor: pointer;
    user-select: none;
    transition: background-color 0.3s ease;
  }
  #file-drop-area.dragover {
    background-color: rgba(255, 182, 193, 0.25);
  }
  #invoice-file {
    display: none;
  }

  #file-name {
    font-size: 0.9rem;
    color: #ff69b4;
    text-align: center;
    margin-top: 0.5rem;
    min-height: 1.2em;
  }

  /* ---------- Submit Button ---------- */
  button[type="submit"] {
    background: linear-gradient(135deg, #ffb6c1, #ff69b4);
    color: white;
    font-weight: 700;
    padding: 1rem;
    border-radius: 2rem;
    border: none;
    cursor: pointer;
    font-size: 1.2rem;
    box-shadow: 0 8px 25px rgba(255, 105, 180, 0.6);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
  button[type="submit"]:hover:not(:disabled) {
    transform: scale(1.07);
    box-shadow: 0 12px 35px rgba(255, 105, 180, 0.8);
  }
  button[type="submit"]:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }

  /* ---------- Modal ---------- */
  #message-modal {
    position: fixed;
    inset: 0;
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 50;
    background: rgba(0, 0, 0, 0.3);
  }
  .modal-content {
    background: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(10px);
    border-radius: 1.5rem;
    padding: 2rem;
    max-width: 320px;
    width: 90%;
    text-align: center;
    box-shadow: 0 12px 35px rgba(255, 105, 180, 0.5);
  }
  .modal-content h3 {
    color: #ff69b4;
    margin-bottom: 1rem;
    font-weight: 700;
    font-size: 1.5rem;
  }
  .modal-content p {
    margin-bottom: 1.5rem;
    color: #ff4d94;
    font-weight: 500;
  }
  .modal-content button {
    background: linear-gradient(135deg, #ffb6c1, #ff69b4);
    color: white;
    font-weight: 600;
    padding: 0.8rem 1.5rem;
    border-radius: 2rem;
    border: none;
    cursor: pointer;
    font-size: 1rem;
    box-shadow: 0 6px 20px rgba(255, 105, 180, 0.6);
    transition: transform 0.3s ease;
  }
  .modal-content button:hover {
    transform: scale(1.05);
  }

  /* ---------- Responsive ---------- */
  @media (max-width: 480px) {
    .container {
      padding: 1.5rem 1rem;
    }
    input[type="text"],
    input[type="tel"],
    input[type="number"],
    select,
    #bank-buttons button,
    button[type="submit"] {
      font-size: 1rem;
      padding: 0.6rem 1rem;
    }
  }
</style>
</head>
<body>

<div class="container">
  <h2>Boost Academy Report</h2>
  <form id="report-form" onsubmit="event.preventDefault(); sendReport()">
    <input type="text" id="name" placeholder="Customer Name" required autocomplete="off" />
    <input type="tel" id="number" placeholder="Customer Phone Number" required autocomplete="off" />
    <input type="text" id="address" placeholder="Delivery Address" required autocomplete="off" />
    <input type="text" id="delivery" placeholder="Delivery Express Service" required autocomplete="off" />
    <input type="number" id="price" placeholder="Price" required min="0" step="0.01" />

    <select id="page-name" required>
      <option value="" disabled selected>Select Source Page</option>
      <option value="Bong Pheng Store">Bong Pheng Store</option>
      <option value="Mey Smile">Mey Smile</option>
      <option value="SFI Business">SFI Business</option>
    </select>

    <select id="select-id" required>
      <option value="" disabled selected>Select ID</option>
    </select>

    <div class="payment-channel">Payment Channel</div>
    <div id="bank-buttons" aria-label="Payment channel buttons"></div>

    <div id="file-drop-area" aria-label="Drag and drop invoice image or click to select">
      Drag & Drop Invoice Here or Click
      <input type="file" id="invoice-file" accept="image/*" />
    </div>

    <p id="file-name" aria-live="polite" aria-atomic="true"></p>

    <button type="submit" id="submit-btn">Submit Report ðŸ’Œ</button>
  </form>
</div>

<!-- Modal -->
<div id="message-modal" role="alertdialog" aria-modal="true" aria-labelledby="modal-title" aria-describedby="modal-message">
  <div class="modal-content">
    <h3 id="modal-title"></h3>
    <p id="modal-message"></p>
    <button onclick="hideModal()">Close âœ¨</button>
  </div>
</div>

<script>
  // Populate ID dropdown with 001-100
  const idSelect = document.getElementById("select-id");
  for(let i = 1; i <= 100; i++){
    const val = String(i).padStart(3, "0");
    const option = document.createElement("option");
    option.value = val;
    option.textContent = `ID ${val}`;
    idSelect.appendChild(option);
  }

  // Payment channel buttons
  const bankButtonsContainer = document.getElementById("bank-buttons");
  const banks = ["ABA Bank", "ACLEDA Bank", "WING Bank", "TRUE Money"];
  let selectedBank = null;

  banks.forEach(bank => {
    const btn = document.createElement("button");
    btn.type = "button";
    btn.textContent = bank;
    btn.addEventListener("click", () => {
      selectedBank = bank;
      // Remove all selected
      [...bankButtonsContainer.children].forEach(b => b.classList.remove("selected-bank"));
      btn.classList.add("selected-bank");
    });
    bankButtonsContainer.appendChild(btn);
  });

  // File upload handling
  const fileDropArea = document.getElementById("file-drop-area");
  const fileInput = document.getElementById("invoice-file");
  const fileNameDisplay = document.getElementById("file-name");
  let selectedFile = null;

  fileDropArea.addEventListener("click", () => fileInput.click());

  fileInput.addEventListener("change", () => {
    if (fileInput.files.length) {
      selectedFile = fileInput.files[0];
      fileNameDisplay.textContent = selectedFile.name;
    }
  });

  // Drag & Drop
  fileDropArea.addEventListener("dragover", (e) => {
    e.preventDefault();
    fileDropArea.classList.add("dragover");
  });
  fileDropArea.addEventListener("dragleave", () => {
    fileDropArea.classList.remove("dragover");
  });
  fileDropArea.addEventListener("drop", (e) => {
    e.preventDefault();
    fileDropArea.classList.remove("dragover");
    if (e.dataTransfer.files.length) {
      const file = e.dataTransfer.files[0];
      if (file.type.startsWith("image/")) {
        selectedFile = file;
        fileInput.files = e.dataTransfer.files; // update file input
        fileNameDisplay.textContent = selectedFile.name;
      } else {
        alert("Please drop an image file.");
      }
    }
  });

  // Modal functions
  function showModal(title, message) {
    document.getElementById("modal-title").textContent = title;
    document.getElementById("modal-message").textContent = message;
    document.getElementById("message-modal").style.display = "flex";
  }
  function hideModal() {
    document.getElementById("message-modal").style.display = "none";
  }

  // Send Report Function (Telegram API placeholder)
  async function sendReport() {
    const name = document.getElementById("name").value.trim();
    const number = document.getElementById("number").value.trim();
    const address = document.getElementById("address").value.trim();
    const delivery = document.getElementById("delivery").value.trim();
    const price = document.getElementById("price").value.trim();
    const pageName = document.getElementById("page-name").value;
    const selectedID = document.getElementById("select-id").value;

    if (!name || !number || !address || !delivery || !price || !pageName || !selectedID || !selectedBank || !selectedFile) {
      showModal("Error", "Please fill all fields, select payment channel, and upload invoice image.");
      return;
    }

    const submitBtn = document.getElementById("submit-btn");
    submitBtn.disabled = true;
    submitBtn.textContent = "Sending... ðŸ’Œ";

    // Prepare caption text for Telegram
    const caption = `
*Page:* ${pageName}
*ID:* ${selectedID}

*Customer:* ${name}
*Phone:* ${number}
*Address:* ${address}
*Delivery:* ${delivery}

*Price:* $${price}
*Payment:* ${selectedBank}

Time: ${new Date().toLocaleString()}
    `;

    // *** Replace below with your actual Telegram BOT token and Chat ID ***
    const BOT_TOKEN = "8343485371:AAHUzwUW9flKScXHnLvpQO_wPjopAo9nOWc";
    const CHAT_ID = "-1003388800232";

    try {
      // Telegram API expects form data for sending photo with caption
      const formData = new FormData();
      formData.append("chat_id", CHAT_ID);
      formData.append("photo", selectedFile);
      formData.append("caption", caption);
      formData.append("parse_mode", "Markdown");

      const response = await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendPhoto`, {
        method: "POST",
        body: formData,
      });

      const result = await response.json();
      if (result.ok) {
        showModal("Success", "Invoice sent successfully ðŸ’–");
        document.getElementById("report-form").reset();
        selectedBank = null;
        selectedFile = null;
        fileNameDisplay.textContent = "";
        // Remove bank button selection
        [...bankButtonsContainer.children].forEach(b => b.classList.remove("selected-bank"));
      } else {
        showModal("Error", "Failed to send invoice: " + (result.description || "Unknown error"));
      }
    } catch (error) {
      showModal("Error", "Network error: " + error.message);
    }

    submitBtn.disabled = false;
    submitBtn.textContent = "Submit Report ðŸ’Œ";
  }
</script>

</body>
</html>


